<!DOCTYPE html>
<!-- V5e.html is generated by V5e.py, so don't EDIT it -->

<head>
  <title>Vampire the Masquerade 5th Edition</title>
  <link rel="stylesheet" type="text/css" href="V5e.css">
</head>

<body>

<div class="sheet-page">

  <!-- Title -->
  <div style="display: inline-block;">
    <h1>Vampire the Masquerade</h1>
    <h4>5th Edition</h4>
  </div>
  <br />

  <!-- Basics -->
  <div class="sheet-divrow" style="display: inline-block;">
    <h2 style="display: inline-block;">Basics</h2>
    <input title="hide" name="attr_basics_switch" style="width: 1em;display: inline-block;" type="checkbox" class="sheet-block-switch"/>
    <br />
    <div class="sheet-block-a">
      <div class="sheet-divcol">
        <table>
          <tr>
            <th style="width: 7em">Name:</th><td><input class="prop_val" title="name" type="text" name="attr_name"/></td></tr>
          <tr>
            <th style="width: 7em">Chronicle:</th><td><input class="prop_val" title="chronicle" type="text" name="attr_chronicle"/></td></tr>
          <tr>
            <th style="width: 7em">Sire:</th><td><input class="prop_val" title="sire" type="text" name="attr_sire"/></td></tr>
        </table>
      </div>
      <div class="sheet-divcol">
        <table>
          <tr>
            <th style="width: 7em">Concept:</th><td><input class="prop_val" title="concept" type="text" name="attr_concept"/></td></tr>
          <tr>
            <th style="width: 7em">Ambition:</th><td><input class="prop_val" title="ambition" type="text" name="attr_ambition"/></td></tr>
          <tr>
            <th style="width: 7em">Desire:</th><td><input class="prop_val" title="desire" type="text" name="attr_desire"/></td></tr>
        </table>
      </div>
      <div class="sheet-divcol">
        <table>
          <tr>
            <th style="width: 7em">Predator:</th><td><input class="prop_val" title="predator" type="text" name="attr_predator"/></td></tr>
          <tr>
            <th style="width: 7em">Clan:</th><td><select name="attr_clan" style="width: 15em"><option value="brujah">brujah</option><option value="gangrel">gangrel</option><option value="malkavian">malkavian</option><option value="nosferatu">nosferatu</option><option value="ravnos">ravnos</option><option value="toreador">toreador</option><option value="tremere">tremere</option><option value="ventrue">ventrue</option><option value="lasombra">lasombra</option><option value="thin-blood">thin-blood</option><option value="caitiff">caitiff</option><option value="human">human</option><option value="animal">animal</option><option value="werewolf">werewolf</option><option value="mage">mage</option><option value="faerie">faerie</option><option value="ghost">ghost</option><option value="demon">demon</option></select></td></tr>
          <tr>
            <th style="width: 7em">Generation:</th><td><input class="prop_val" title="generation" type="text" name="attr_generation"/></td></tr>
        </table>
      </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>

  <!-- Stats -->
  <div class="sheet-divrow">
    <h2 style="display: inline-block;">Stats</h2>
    <input title="hide" name="attr_stats_switch" style="width: 1em;display: inline-block;" type="checkbox" class="sheet-block-switch"/>
    <br />
    <div class="sheet-block-a">
      <div class="sheet-divcol">
        <h3>Misc</h3>
        <table >
          <input name="attr_total_xp" value="0" type="hidden"/>
          <tr>
            <th>Xp</th>
            <td><input name="attr_total_xp_disp" value="@{total_xp}" title="xp spent" type="number" disabled="true"/></td>
            <td>/</td>
            <td><input name="attr_xp_avail" value="0" title="xp available" type="number"/></td>
          </tr>
          <tr>
            <th>Hunger</th>
            <td><input name="attr_hunger" value="0" title="hunger" type="number"/></td>
            <td>/</td>
            <td><input name="attr_hunger_max" value="5" title="hunger max" type="number" disabled="true"/></td>
          </tr>
          <tr>
            <th>Humanity</th>
            <td><input name="attr_humanity" value="0" title="humanity" type="number"/></td>
            <td>/</td>
            <td><input name="attr_humanity_max" value="10" title="humanity max" type="number" disabled="true"/></td>
          </tr>
        </table>
      </div>
      <div class="sheet-divcol">
        <h3>Health</h3>
        <div style="width: 9em; display:inline-block;">
          <table>
            
            <tr>
              <th>Superficial</th>
              <td><input name="attr_dmg_superficial" value="0" min="0" title="superficial damage" type="number"/></td>
            </tr>
            
            <tr>
              <th>Aggravated</th>
              <td><input name="attr_dmg_aggravated" value="0" min="0" title="aggravated damage" type="number"/></td>
            </tr>
            
            <tr>
              <th>Level</th>
              <input name="attr_health" value="0" type="hidden"/>
              <td><input name="attr_health_disp" value="@{health}" title="health" type="number" disabled="true"/></td>
              <td>/</td>
              <td><input name="attr_health_max" value="7" min="0" title="health max" type="number"/></td>
              <input name="attr_health_total" value="0" type="hidden"/>
              <input name="attr_health_total_max" value="0" type="hidden"/>
            </tr>
            <tr>
              <th>State</th>
              <input name="attr_health_state" value="OK" type="hidden"/>
              <td colspan="3"><input name="attr_health_state_disp" value="@{health_state}" title="health state" type="text" disabled="true"/></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="sheet-divcol">
        <h3>Willpower</h3>
        <div style="width: 9em; display:inline-block;">
          <table>
            
            <tr>
              <th>Superficial</th>
              <td><input name="attr_will_superficial" value="0" min="0" title="superficial damage" type="number"/></td>
            </tr>
            
            <tr>
              <th>Aggravated</th>
              <td><input name="attr_will_aggravated" value="0" min="0" title="aggravated damage" type="number"/></td>
            </tr>
            
            <tr>
              <th>Level</th>
              <input name="attr_health" value="0" type="hidden"/>
              <td><input name="attr_will_disp" value="@{will}" title="will" type="number" disabled="true"/></td>
              <td>/</td>
              <td><input name="attr_will_max" value="7" min="0" title="will max" type="number"/></td>
              <input name="attr_will_total" value="0" type="hidden"/>
              <input name="attr_will_total_max" value="0" type="hidden"/>
            </tr>
            <tr>
              <th>State</th>
              <input name="attr_will_state" value="OK" type="hidden"/>
              <td colspan="3"><input name="attr_will_state_disp" value="@{will_state}" title="will state" type="text" disabled="true"/></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>

  <!-- Character Sheet Sections -->
  <!-- Section Attributes -->
  <div class="sheet-divrow">
    <h2 style="display: inline-block;">Attributes</h2>
    
    <input name="attr_attributes_base" value="0" type="hidden" />
    
    <input name="attr_attributes_xp" value="0" type="hidden" />
    
    <input title="hide" name="attr_attributes_switch" style="width: 1em;display: inline-block;" type="checkbox" class="sheet-block-switch">
    <br />
    <div class="sheet-block-a">
      
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Physical</h3>
      <input title="details" name="attr_physical_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Physical basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Strength</th>
            <td><input class="prop_name" name="attr_strength_specailty" title="Strength specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_strength_radio" value="0" title="Strength total" type="radio" /></td>
            <td><input class="prop_val" name="attr_strength_radio" value="1" title="Strength total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_strength_radio" value="2" title="Strength total" type="radio" /></td>
            <td><input class="prop_val" name="attr_strength_radio" value="3" title="Strength total" type="radio" /></td>
            <td><input class="prop_val" name="attr_strength_radio" value="4" title="Strength total" type="radio" /></td>
            <td><input class="prop_val" name="attr_strength_radio" value="5" title="Strength total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Dexterity</th>
            <td><input class="prop_name" name="attr_dexterity_specailty" title="Dexterity specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="0" title="Dexterity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="1" title="Dexterity total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="2" title="Dexterity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="3" title="Dexterity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="4" title="Dexterity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dexterity_radio" value="5" title="Dexterity total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Stamina</th>
            <td><input class="prop_name" name="attr_stamina_specailty" title="Stamina specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="0" title="Stamina total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="1" title="Stamina total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="2" title="Stamina total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="3" title="Stamina total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="4" title="Stamina total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stamina_radio" value="5" title="Stamina total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="physical detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Strength</th>
            <td><input class="prop_name" name="attr_strength_specailty" title="Strength specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_strength_base" value="1" title="Strength base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_strength_xp" value="0" title="Strength xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_strength" value="0" type="hidden" />
              <input class="prop_result" name="attr_strength_disp" value="@{strength}" type="number" title="Strength total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Dexterity</th>
            <td><input class="prop_name" name="attr_dexterity_specailty" title="Dexterity specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_dexterity_base" value="1" title="Dexterity base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_dexterity_xp" value="0" title="Dexterity xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_dexterity" value="0" type="hidden" />
              <input class="prop_result" name="attr_dexterity_disp" value="@{dexterity}" type="number" title="Dexterity total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Stamina</th>
            <td><input class="prop_name" name="attr_stamina_specailty" title="Stamina specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_stamina_base" value="1" title="Stamina base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_stamina_xp" value="0" title="Stamina xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_stamina" value="0" type="hidden" />
              <input class="prop_result" name="attr_stamina_disp" value="@{stamina}" type="number" title="Stamina total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_physical_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_physical_base_disp" title="Physical base"
            value="@{physical_base}" type="number" disabled="true"/></td>
          
            <input name="attr_physical_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_physical_xp_disp" title="Physical xp"
            value="@{physical_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Social</h3>
      <input title="details" name="attr_social_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Social basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Charisma</th>
            <td><input class="prop_name" name="attr_charisma_specailty" title="Charisma specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="0" title="Charisma total" type="radio" /></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="1" title="Charisma total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="2" title="Charisma total" type="radio" /></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="3" title="Charisma total" type="radio" /></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="4" title="Charisma total" type="radio" /></td>
            <td><input class="prop_val" name="attr_charisma_radio" value="5" title="Charisma total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Manipulation</th>
            <td><input class="prop_name" name="attr_manipulation_specailty" title="Manipulation specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="0" title="Manipulation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="1" title="Manipulation total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="2" title="Manipulation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="3" title="Manipulation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="4" title="Manipulation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_manipulation_radio" value="5" title="Manipulation total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Composure</th>
            <td><input class="prop_name" name="attr_composure_specailty" title="Composure specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_composure_radio" value="0" title="Composure total" type="radio" /></td>
            <td><input class="prop_val" name="attr_composure_radio" value="1" title="Composure total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_composure_radio" value="2" title="Composure total" type="radio" /></td>
            <td><input class="prop_val" name="attr_composure_radio" value="3" title="Composure total" type="radio" /></td>
            <td><input class="prop_val" name="attr_composure_radio" value="4" title="Composure total" type="radio" /></td>
            <td><input class="prop_val" name="attr_composure_radio" value="5" title="Composure total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="social detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Charisma</th>
            <td><input class="prop_name" name="attr_charisma_specailty" title="Charisma specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_charisma_base" value="1" title="Charisma base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_charisma_xp" value="0" title="Charisma xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_charisma" value="0" type="hidden" />
              <input class="prop_result" name="attr_charisma_disp" value="@{charisma}" type="number" title="Charisma total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Manipulation</th>
            <td><input class="prop_name" name="attr_manipulation_specailty" title="Manipulation specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_manipulation_base" value="1" title="Manipulation base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_manipulation_xp" value="0" title="Manipulation xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_manipulation" value="0" type="hidden" />
              <input class="prop_result" name="attr_manipulation_disp" value="@{manipulation}" type="number" title="Manipulation total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Composure</th>
            <td><input class="prop_name" name="attr_composure_specailty" title="Composure specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_composure_base" value="1" title="Composure base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_composure_xp" value="0" title="Composure xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_composure" value="0" type="hidden" />
              <input class="prop_result" name="attr_composure_disp" value="@{composure}" type="number" title="Composure total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_social_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_social_base_disp" title="Social base"
            value="@{social_base}" type="number" disabled="true"/></td>
          
            <input name="attr_social_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_social_xp_disp" title="Social xp"
            value="@{social_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Mental</h3>
      <input title="details" name="attr_mental_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Mental basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Intelligence</th>
            <td><input class="prop_name" name="attr_intelligence_specailty" title="Intelligence specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="0" title="Intelligence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="1" title="Intelligence total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="2" title="Intelligence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="3" title="Intelligence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="4" title="Intelligence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intelligence_radio" value="5" title="Intelligence total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Wits</th>
            <td><input class="prop_name" name="attr_wits_specailty" title="Wits specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_wits_radio" value="0" title="Wits total" type="radio" /></td>
            <td><input class="prop_val" name="attr_wits_radio" value="1" title="Wits total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_wits_radio" value="2" title="Wits total" type="radio" /></td>
            <td><input class="prop_val" name="attr_wits_radio" value="3" title="Wits total" type="radio" /></td>
            <td><input class="prop_val" name="attr_wits_radio" value="4" title="Wits total" type="radio" /></td>
            <td><input class="prop_val" name="attr_wits_radio" value="5" title="Wits total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Resolve</th>
            <td><input class="prop_name" name="attr_resolve_specailty" title="Resolve specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="0" title="Resolve total" type="radio" /></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="1" title="Resolve total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="2" title="Resolve total" type="radio" /></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="3" title="Resolve total" type="radio" /></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="4" title="Resolve total" type="radio" /></td>
            <td><input class="prop_val" name="attr_resolve_radio" value="5" title="Resolve total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="mental detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Intelligence</th>
            <td><input class="prop_name" name="attr_intelligence_specailty" title="Intelligence specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_intelligence_base" value="1" title="Intelligence base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_intelligence_xp" value="0" title="Intelligence xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_intelligence" value="0" type="hidden" />
              <input class="prop_result" name="attr_intelligence_disp" value="@{intelligence}" type="number" title="Intelligence total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Wits</th>
            <td><input class="prop_name" name="attr_wits_specailty" title="Wits specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_wits_base" value="1" title="Wits base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_wits_xp" value="0" title="Wits xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_wits" value="0" type="hidden" />
              <input class="prop_result" name="attr_wits_disp" value="@{wits}" type="number" title="Wits total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Resolve</th>
            <td><input class="prop_name" name="attr_resolve_specailty" title="Resolve specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_resolve_base" value="1" title="Resolve base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_resolve_xp" value="0" title="Resolve xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_resolve" value="0" type="hidden" />
              <input class="prop_result" name="attr_resolve_disp" value="@{resolve}" type="number" title="Resolve total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_mental_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_mental_base_disp" title="Mental base"
            value="@{mental_base}" type="number" disabled="true"/></td>
          
            <input name="attr_mental_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_mental_xp_disp" title="Mental xp"
            value="@{mental_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>
  
  <!-- Section Abilities -->
  <div class="sheet-divrow">
    <h2 style="display: inline-block;">Abilities</h2>
    
    <input name="attr_abilities_base" value="0" type="hidden" />
    
    <input name="attr_abilities_xp" value="0" type="hidden" />
    
    <input title="hide" name="attr_abilities_switch" style="width: 1em;display: inline-block;" type="checkbox" class="sheet-block-switch">
    <br />
    <div class="sheet-block-a">
      
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Talents</h3>
      <input title="details" name="attr_talents_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Talents basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Athletics</th>
            <td><input class="prop_name" name="attr_athletics_specailty" title="Athletics specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="0" title="Athletics total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="1" title="Athletics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="2" title="Athletics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="3" title="Athletics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="4" title="Athletics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_athletics_radio" value="5" title="Athletics total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Brawl</th>
            <td><input class="prop_name" name="attr_brawl_specailty" title="Brawl specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="0" title="Brawl total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="1" title="Brawl total" type="radio" /></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="2" title="Brawl total" type="radio" /></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="3" title="Brawl total" type="radio" /></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="4" title="Brawl total" type="radio" /></td>
            <td><input class="prop_val" name="attr_brawl_radio" value="5" title="Brawl total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Craft</th>
            <td><input class="prop_name" name="attr_craft_specailty" title="Craft specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_craft_radio" value="0" title="Craft total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_craft_radio" value="1" title="Craft total" type="radio" /></td>
            <td><input class="prop_val" name="attr_craft_radio" value="2" title="Craft total" type="radio" /></td>
            <td><input class="prop_val" name="attr_craft_radio" value="3" title="Craft total" type="radio" /></td>
            <td><input class="prop_val" name="attr_craft_radio" value="4" title="Craft total" type="radio" /></td>
            <td><input class="prop_val" name="attr_craft_radio" value="5" title="Craft total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Drive</th>
            <td><input class="prop_name" name="attr_drive_specailty" title="Drive specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_drive_radio" value="0" title="Drive total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_drive_radio" value="1" title="Drive total" type="radio" /></td>
            <td><input class="prop_val" name="attr_drive_radio" value="2" title="Drive total" type="radio" /></td>
            <td><input class="prop_val" name="attr_drive_radio" value="3" title="Drive total" type="radio" /></td>
            <td><input class="prop_val" name="attr_drive_radio" value="4" title="Drive total" type="radio" /></td>
            <td><input class="prop_val" name="attr_drive_radio" value="5" title="Drive total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Firearms</th>
            <td><input class="prop_name" name="attr_firearms_specailty" title="Firearms specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="0" title="Firearms total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="1" title="Firearms total" type="radio" /></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="2" title="Firearms total" type="radio" /></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="3" title="Firearms total" type="radio" /></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="4" title="Firearms total" type="radio" /></td>
            <td><input class="prop_val" name="attr_firearms_radio" value="5" title="Firearms total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Melee</th>
            <td><input class="prop_name" name="attr_melee_specailty" title="Melee specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_melee_radio" value="0" title="Melee total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_melee_radio" value="1" title="Melee total" type="radio" /></td>
            <td><input class="prop_val" name="attr_melee_radio" value="2" title="Melee total" type="radio" /></td>
            <td><input class="prop_val" name="attr_melee_radio" value="3" title="Melee total" type="radio" /></td>
            <td><input class="prop_val" name="attr_melee_radio" value="4" title="Melee total" type="radio" /></td>
            <td><input class="prop_val" name="attr_melee_radio" value="5" title="Melee total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Larceny</th>
            <td><input class="prop_name" name="attr_larceny_specailty" title="Larceny specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="0" title="Larceny total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="1" title="Larceny total" type="radio" /></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="2" title="Larceny total" type="radio" /></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="3" title="Larceny total" type="radio" /></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="4" title="Larceny total" type="radio" /></td>
            <td><input class="prop_val" name="attr_larceny_radio" value="5" title="Larceny total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Stealth</th>
            <td><input class="prop_name" name="attr_stealth_specailty" title="Stealth specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="0" title="Stealth total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="1" title="Stealth total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="2" title="Stealth total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="3" title="Stealth total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="4" title="Stealth total" type="radio" /></td>
            <td><input class="prop_val" name="attr_stealth_radio" value="5" title="Stealth total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Survival</th>
            <td><input class="prop_name" name="attr_survival_specailty" title="Survival specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_survival_radio" value="0" title="Survival total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_survival_radio" value="1" title="Survival total" type="radio" /></td>
            <td><input class="prop_val" name="attr_survival_radio" value="2" title="Survival total" type="radio" /></td>
            <td><input class="prop_val" name="attr_survival_radio" value="3" title="Survival total" type="radio" /></td>
            <td><input class="prop_val" name="attr_survival_radio" value="4" title="Survival total" type="radio" /></td>
            <td><input class="prop_val" name="attr_survival_radio" value="5" title="Survival total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="talents detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Athletics</th>
            <td><input class="prop_name" name="attr_athletics_specailty" title="Athletics specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_athletics_base" value="0" title="Athletics base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_athletics_xp" value="0" title="Athletics xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_athletics" value="0" type="hidden" />
              <input class="prop_result" name="attr_athletics_disp" value="@{athletics}" type="number" title="Athletics total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Brawl</th>
            <td><input class="prop_name" name="attr_brawl_specailty" title="Brawl specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_brawl_base" value="0" title="Brawl base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_brawl_xp" value="0" title="Brawl xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_brawl" value="0" type="hidden" />
              <input class="prop_result" name="attr_brawl_disp" value="@{brawl}" type="number" title="Brawl total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Craft</th>
            <td><input class="prop_name" name="attr_craft_specailty" title="Craft specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_craft_base" value="0" title="Craft base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_craft_xp" value="0" title="Craft xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_craft" value="0" type="hidden" />
              <input class="prop_result" name="attr_craft_disp" value="@{craft}" type="number" title="Craft total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Drive</th>
            <td><input class="prop_name" name="attr_drive_specailty" title="Drive specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_drive_base" value="0" title="Drive base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_drive_xp" value="0" title="Drive xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_drive" value="0" type="hidden" />
              <input class="prop_result" name="attr_drive_disp" value="@{drive}" type="number" title="Drive total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Firearms</th>
            <td><input class="prop_name" name="attr_firearms_specailty" title="Firearms specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_firearms_base" value="0" title="Firearms base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_firearms_xp" value="0" title="Firearms xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_firearms" value="0" type="hidden" />
              <input class="prop_result" name="attr_firearms_disp" value="@{firearms}" type="number" title="Firearms total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Melee</th>
            <td><input class="prop_name" name="attr_melee_specailty" title="Melee specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_melee_base" value="0" title="Melee base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_melee_xp" value="0" title="Melee xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_melee" value="0" type="hidden" />
              <input class="prop_result" name="attr_melee_disp" value="@{melee}" type="number" title="Melee total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Larceny</th>
            <td><input class="prop_name" name="attr_larceny_specailty" title="Larceny specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_larceny_base" value="0" title="Larceny base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_larceny_xp" value="0" title="Larceny xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_larceny" value="0" type="hidden" />
              <input class="prop_result" name="attr_larceny_disp" value="@{larceny}" type="number" title="Larceny total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Stealth</th>
            <td><input class="prop_name" name="attr_stealth_specailty" title="Stealth specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_stealth_base" value="0" title="Stealth base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_stealth_xp" value="0" title="Stealth xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_stealth" value="0" type="hidden" />
              <input class="prop_result" name="attr_stealth_disp" value="@{stealth}" type="number" title="Stealth total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Survival</th>
            <td><input class="prop_name" name="attr_survival_specailty" title="Survival specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_survival_base" value="0" title="Survival base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_survival_xp" value="0" title="Survival xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_survival" value="0" type="hidden" />
              <input class="prop_result" name="attr_survival_disp" value="@{survival}" type="number" title="Survival total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_talents_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_talents_base_disp" title="Talents base"
            value="@{talents_base}" type="number" disabled="true"/></td>
          
            <input name="attr_talents_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_talents_xp_disp" title="Talents xp"
            value="@{talents_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Skills</h3>
      <input title="details" name="attr_skills_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Skills basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Animal Ken</th>
            <td><input class="prop_name" name="attr_animal_ken_specailty" title="Animal Ken specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="0" title="Animal Ken total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="1" title="Animal Ken total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="2" title="Animal Ken total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="3" title="Animal Ken total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="4" title="Animal Ken total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animal_ken_radio" value="5" title="Animal Ken total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Etiquette</th>
            <td><input class="prop_name" name="attr_etiquette_specailty" title="Etiquette specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="0" title="Etiquette total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="1" title="Etiquette total" type="radio" /></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="2" title="Etiquette total" type="radio" /></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="3" title="Etiquette total" type="radio" /></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="4" title="Etiquette total" type="radio" /></td>
            <td><input class="prop_val" name="attr_etiquette_radio" value="5" title="Etiquette total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Insight</th>
            <td><input class="prop_name" name="attr_insight_specailty" title="Insight specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_insight_radio" value="0" title="Insight total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_insight_radio" value="1" title="Insight total" type="radio" /></td>
            <td><input class="prop_val" name="attr_insight_radio" value="2" title="Insight total" type="radio" /></td>
            <td><input class="prop_val" name="attr_insight_radio" value="3" title="Insight total" type="radio" /></td>
            <td><input class="prop_val" name="attr_insight_radio" value="4" title="Insight total" type="radio" /></td>
            <td><input class="prop_val" name="attr_insight_radio" value="5" title="Insight total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Intimidation</th>
            <td><input class="prop_name" name="attr_intimidation_specailty" title="Intimidation specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="0" title="Intimidation total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="1" title="Intimidation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="2" title="Intimidation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="3" title="Intimidation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="4" title="Intimidation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_intimidation_radio" value="5" title="Intimidation total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Leadership</th>
            <td><input class="prop_name" name="attr_leadership_specailty" title="Leadership specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="0" title="Leadership total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="1" title="Leadership total" type="radio" /></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="2" title="Leadership total" type="radio" /></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="3" title="Leadership total" type="radio" /></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="4" title="Leadership total" type="radio" /></td>
            <td><input class="prop_val" name="attr_leadership_radio" value="5" title="Leadership total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Performance</th>
            <td><input class="prop_name" name="attr_performance_specailty" title="Performance specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_performance_radio" value="0" title="Performance total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_performance_radio" value="1" title="Performance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_performance_radio" value="2" title="Performance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_performance_radio" value="3" title="Performance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_performance_radio" value="4" title="Performance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_performance_radio" value="5" title="Performance total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Persuasion</th>
            <td><input class="prop_name" name="attr_persuasion_specailty" title="Persuasion specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="0" title="Persuasion total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="1" title="Persuasion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="2" title="Persuasion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="3" title="Persuasion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="4" title="Persuasion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_persuasion_radio" value="5" title="Persuasion total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Streetwise</th>
            <td><input class="prop_name" name="attr_streetwise_specailty" title="Streetwise specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="0" title="Streetwise total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="1" title="Streetwise total" type="radio" /></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="2" title="Streetwise total" type="radio" /></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="3" title="Streetwise total" type="radio" /></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="4" title="Streetwise total" type="radio" /></td>
            <td><input class="prop_val" name="attr_streetwise_radio" value="5" title="Streetwise total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Subterfuge</th>
            <td><input class="prop_name" name="attr_subterfuge_specailty" title="Subterfuge specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="0" title="Subterfuge total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="1" title="Subterfuge total" type="radio" /></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="2" title="Subterfuge total" type="radio" /></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="3" title="Subterfuge total" type="radio" /></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="4" title="Subterfuge total" type="radio" /></td>
            <td><input class="prop_val" name="attr_subterfuge_radio" value="5" title="Subterfuge total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="skills detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Animal Ken</th>
            <td><input class="prop_name" name="attr_animal_ken_specailty" title="Animal Ken specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_animal_ken_base" value="0" title="Animal Ken base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_animal_ken_xp" value="0" title="Animal Ken xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_animal_ken" value="0" type="hidden" />
              <input class="prop_result" name="attr_animal_ken_disp" value="@{animal_ken}" type="number" title="Animal Ken total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Etiquette</th>
            <td><input class="prop_name" name="attr_etiquette_specailty" title="Etiquette specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_etiquette_base" value="0" title="Etiquette base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_etiquette_xp" value="0" title="Etiquette xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_etiquette" value="0" type="hidden" />
              <input class="prop_result" name="attr_etiquette_disp" value="@{etiquette}" type="number" title="Etiquette total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Insight</th>
            <td><input class="prop_name" name="attr_insight_specailty" title="Insight specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_insight_base" value="0" title="Insight base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_insight_xp" value="0" title="Insight xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_insight" value="0" type="hidden" />
              <input class="prop_result" name="attr_insight_disp" value="@{insight}" type="number" title="Insight total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Intimidation</th>
            <td><input class="prop_name" name="attr_intimidation_specailty" title="Intimidation specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_intimidation_base" value="0" title="Intimidation base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_intimidation_xp" value="0" title="Intimidation xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_intimidation" value="0" type="hidden" />
              <input class="prop_result" name="attr_intimidation_disp" value="@{intimidation}" type="number" title="Intimidation total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Leadership</th>
            <td><input class="prop_name" name="attr_leadership_specailty" title="Leadership specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_leadership_base" value="0" title="Leadership base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_leadership_xp" value="0" title="Leadership xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_leadership" value="0" type="hidden" />
              <input class="prop_result" name="attr_leadership_disp" value="@{leadership}" type="number" title="Leadership total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Performance</th>
            <td><input class="prop_name" name="attr_performance_specailty" title="Performance specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_performance_base" value="0" title="Performance base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_performance_xp" value="0" title="Performance xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_performance" value="0" type="hidden" />
              <input class="prop_result" name="attr_performance_disp" value="@{performance}" type="number" title="Performance total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Persuasion</th>
            <td><input class="prop_name" name="attr_persuasion_specailty" title="Persuasion specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_persuasion_base" value="0" title="Persuasion base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_persuasion_xp" value="0" title="Persuasion xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_persuasion" value="0" type="hidden" />
              <input class="prop_result" name="attr_persuasion_disp" value="@{persuasion}" type="number" title="Persuasion total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Streetwise</th>
            <td><input class="prop_name" name="attr_streetwise_specailty" title="Streetwise specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_streetwise_base" value="0" title="Streetwise base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_streetwise_xp" value="0" title="Streetwise xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_streetwise" value="0" type="hidden" />
              <input class="prop_result" name="attr_streetwise_disp" value="@{streetwise}" type="number" title="Streetwise total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Subterfuge</th>
            <td><input class="prop_name" name="attr_subterfuge_specailty" title="Subterfuge specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_subterfuge_base" value="0" title="Subterfuge base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_subterfuge_xp" value="0" title="Subterfuge xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_subterfuge" value="0" type="hidden" />
              <input class="prop_result" name="attr_subterfuge_disp" value="@{subterfuge}" type="number" title="Subterfuge total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_skills_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_skills_base_disp" title="Skills base"
            value="@{skills_base}" type="number" disabled="true"/></td>
          
            <input name="attr_skills_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_skills_xp_disp" title="Skills xp"
            value="@{skills_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Knowledges</h3>
      <input title="details" name="attr_knowledges_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Knowledges basic table">
          <thead>
            <tr>
              <td></td>
              
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Academics</th>
            <td><input class="prop_name" name="attr_academics_specailty" title="Academics specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_academics_radio" value="0" title="Academics total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_academics_radio" value="1" title="Academics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_academics_radio" value="2" title="Academics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_academics_radio" value="3" title="Academics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_academics_radio" value="4" title="Academics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_academics_radio" value="5" title="Academics total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Awareness</th>
            <td><input class="prop_name" name="attr_awareness_specailty" title="Awareness specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="0" title="Awareness total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="1" title="Awareness total" type="radio" /></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="2" title="Awareness total" type="radio" /></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="3" title="Awareness total" type="radio" /></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="4" title="Awareness total" type="radio" /></td>
            <td><input class="prop_val" name="attr_awareness_radio" value="5" title="Awareness total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Finance</th>
            <td><input class="prop_name" name="attr_finance_specailty" title="Finance specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_finance_radio" value="0" title="Finance total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_finance_radio" value="1" title="Finance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_finance_radio" value="2" title="Finance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_finance_radio" value="3" title="Finance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_finance_radio" value="4" title="Finance total" type="radio" /></td>
            <td><input class="prop_val" name="attr_finance_radio" value="5" title="Finance total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Investigation</th>
            <td><input class="prop_name" name="attr_investigation_specailty" title="Investigation specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="0" title="Investigation total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="1" title="Investigation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="2" title="Investigation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="3" title="Investigation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="4" title="Investigation total" type="radio" /></td>
            <td><input class="prop_val" name="attr_investigation_radio" value="5" title="Investigation total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Medicine</th>
            <td><input class="prop_name" name="attr_medicine_specailty" title="Medicine specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="0" title="Medicine total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="1" title="Medicine total" type="radio" /></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="2" title="Medicine total" type="radio" /></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="3" title="Medicine total" type="radio" /></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="4" title="Medicine total" type="radio" /></td>
            <td><input class="prop_val" name="attr_medicine_radio" value="5" title="Medicine total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Occult</th>
            <td><input class="prop_name" name="attr_occult_specailty" title="Occult specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_occult_radio" value="0" title="Occult total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_occult_radio" value="1" title="Occult total" type="radio" /></td>
            <td><input class="prop_val" name="attr_occult_radio" value="2" title="Occult total" type="radio" /></td>
            <td><input class="prop_val" name="attr_occult_radio" value="3" title="Occult total" type="radio" /></td>
            <td><input class="prop_val" name="attr_occult_radio" value="4" title="Occult total" type="radio" /></td>
            <td><input class="prop_val" name="attr_occult_radio" value="5" title="Occult total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Politics</th>
            <td><input class="prop_name" name="attr_politics_specailty" title="Politics specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_politics_radio" value="0" title="Politics total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_politics_radio" value="1" title="Politics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_politics_radio" value="2" title="Politics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_politics_radio" value="3" title="Politics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_politics_radio" value="4" title="Politics total" type="radio" /></td>
            <td><input class="prop_val" name="attr_politics_radio" value="5" title="Politics total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Science</th>
            <td><input class="prop_name" name="attr_science_specailty" title="Science specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_science_radio" value="0" title="Science total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_science_radio" value="1" title="Science total" type="radio" /></td>
            <td><input class="prop_val" name="attr_science_radio" value="2" title="Science total" type="radio" /></td>
            <td><input class="prop_val" name="attr_science_radio" value="3" title="Science total" type="radio" /></td>
            <td><input class="prop_val" name="attr_science_radio" value="4" title="Science total" type="radio" /></td>
            <td><input class="prop_val" name="attr_science_radio" value="5" title="Science total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Technology</th>
            <td><input class="prop_name" name="attr_technology_specailty" title="Technology specialty" value="" type="text" /></td>
            <td><input class="prop_val" name="attr_technology_radio" value="0" title="Technology total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_technology_radio" value="1" title="Technology total" type="radio" /></td>
            <td><input class="prop_val" name="attr_technology_radio" value="2" title="Technology total" type="radio" /></td>
            <td><input class="prop_val" name="attr_technology_radio" value="3" title="Technology total" type="radio" /></td>
            <td><input class="prop_val" name="attr_technology_radio" value="4" title="Technology total" type="radio" /></td>
            <td><input class="prop_val" name="attr_technology_radio" value="5" title="Technology total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="knowledges detail table">
            <thead>
              <tr>
                <th></th>
                <td>Specialty</td>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Academics</th>
            <td><input class="prop_name" name="attr_academics_specailty" title="Academics specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_academics_base" value="0" title="Academics base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_academics_xp" value="0" title="Academics xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_academics" value="0" type="hidden" />
              <input class="prop_result" name="attr_academics_disp" value="@{academics}" type="number" title="Academics total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Awareness</th>
            <td><input class="prop_name" name="attr_awareness_specailty" title="Awareness specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_awareness_base" value="0" title="Awareness base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_awareness_xp" value="0" title="Awareness xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_awareness" value="0" type="hidden" />
              <input class="prop_result" name="attr_awareness_disp" value="@{awareness}" type="number" title="Awareness total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Finance</th>
            <td><input class="prop_name" name="attr_finance_specailty" title="Finance specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_finance_base" value="0" title="Finance base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_finance_xp" value="0" title="Finance xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_finance" value="0" type="hidden" />
              <input class="prop_result" name="attr_finance_disp" value="@{finance}" type="number" title="Finance total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Investigation</th>
            <td><input class="prop_name" name="attr_investigation_specailty" title="Investigation specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_investigation_base" value="0" title="Investigation base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_investigation_xp" value="0" title="Investigation xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_investigation" value="0" type="hidden" />
              <input class="prop_result" name="attr_investigation_disp" value="@{investigation}" type="number" title="Investigation total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Medicine</th>
            <td><input class="prop_name" name="attr_medicine_specailty" title="Medicine specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_medicine_base" value="0" title="Medicine base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_medicine_xp" value="0" title="Medicine xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_medicine" value="0" type="hidden" />
              <input class="prop_result" name="attr_medicine_disp" value="@{medicine}" type="number" title="Medicine total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Occult</th>
            <td><input class="prop_name" name="attr_occult_specailty" title="Occult specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_occult_base" value="0" title="Occult base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_occult_xp" value="0" title="Occult xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_occult" value="0" type="hidden" />
              <input class="prop_result" name="attr_occult_disp" value="@{occult}" type="number" title="Occult total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Politics</th>
            <td><input class="prop_name" name="attr_politics_specailty" title="Politics specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_politics_base" value="0" title="Politics base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_politics_xp" value="0" title="Politics xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_politics" value="0" type="hidden" />
              <input class="prop_result" name="attr_politics_disp" value="@{politics}" type="number" title="Politics total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Science</th>
            <td><input class="prop_name" name="attr_science_specailty" title="Science specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_science_base" value="0" title="Science base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_science_xp" value="0" title="Science xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_science" value="0" type="hidden" />
              <input class="prop_result" name="attr_science_disp" value="@{science}" type="number" title="Science total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Technology</th>
            <td><input class="prop_name" name="attr_technology_specailty" title="Technology specialty" value="" type="text" /></td>

            <td><input class="prop_val" name="attr_technology_base" value="0" title="Technology base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_technology_xp" value="0" title="Technology xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_technology" value="0" type="hidden" />
              <input class="prop_result" name="attr_technology_disp" value="@{technology}" type="number" title="Technology total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
            <td></td>
            
          
            <input name="attr_knowledges_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_knowledges_base_disp" title="Knowledges base"
            value="@{knowledges_base}" type="number" disabled="true"/></td>
          
            <input name="attr_knowledges_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_knowledges_xp_disp" title="Knowledges xp"
            value="@{knowledges_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>
  
  <!-- Section Details -->
  <div class="sheet-divrow">
    <h2 style="display: inline-block;">Details</h2>
    
    <input name="attr_details_base" value="0" type="hidden" />
    
    <input name="attr_details_xp" value="0" type="hidden" />
    
    <input title="hide" name="attr_details_switch" style="width: 1em;display: inline-block;" type="checkbox" class="sheet-block-switch">
    <br />
    <div class="sheet-block-a">
      
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Disciplines</h3>
      <input title="details" name="attr_disciplines_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Disciplines basic table">
          <thead>
            <tr>
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Animalism</th>
            <td><input class="prop_val" name="attr_animalism_radio" value="0" title="Animalism total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_animalism_radio" value="1" title="Animalism total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animalism_radio" value="2" title="Animalism total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animalism_radio" value="3" title="Animalism total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animalism_radio" value="4" title="Animalism total" type="radio" /></td>
            <td><input class="prop_val" name="attr_animalism_radio" value="5" title="Animalism total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Auspex</th>
            <td><input class="prop_val" name="attr_auspex_radio" value="0" title="Auspex total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_auspex_radio" value="1" title="Auspex total" type="radio" /></td>
            <td><input class="prop_val" name="attr_auspex_radio" value="2" title="Auspex total" type="radio" /></td>
            <td><input class="prop_val" name="attr_auspex_radio" value="3" title="Auspex total" type="radio" /></td>
            <td><input class="prop_val" name="attr_auspex_radio" value="4" title="Auspex total" type="radio" /></td>
            <td><input class="prop_val" name="attr_auspex_radio" value="5" title="Auspex total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Celerity</th>
            <td><input class="prop_val" name="attr_celerity_radio" value="0" title="Celerity total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_celerity_radio" value="1" title="Celerity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_celerity_radio" value="2" title="Celerity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_celerity_radio" value="3" title="Celerity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_celerity_radio" value="4" title="Celerity total" type="radio" /></td>
            <td><input class="prop_val" name="attr_celerity_radio" value="5" title="Celerity total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Dominate</th>
            <td><input class="prop_val" name="attr_dominate_radio" value="0" title="Dominate total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_dominate_radio" value="1" title="Dominate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dominate_radio" value="2" title="Dominate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dominate_radio" value="3" title="Dominate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dominate_radio" value="4" title="Dominate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_dominate_radio" value="5" title="Dominate total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Fortitude</th>
            <td><input class="prop_val" name="attr_fortitude_radio" value="0" title="Fortitude total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_fortitude_radio" value="1" title="Fortitude total" type="radio" /></td>
            <td><input class="prop_val" name="attr_fortitude_radio" value="2" title="Fortitude total" type="radio" /></td>
            <td><input class="prop_val" name="attr_fortitude_radio" value="3" title="Fortitude total" type="radio" /></td>
            <td><input class="prop_val" name="attr_fortitude_radio" value="4" title="Fortitude total" type="radio" /></td>
            <td><input class="prop_val" name="attr_fortitude_radio" value="5" title="Fortitude total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Obfuscate</th>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="0" title="Obfuscate total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="1" title="Obfuscate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="2" title="Obfuscate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="3" title="Obfuscate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="4" title="Obfuscate total" type="radio" /></td>
            <td><input class="prop_val" name="attr_obfuscate_radio" value="5" title="Obfuscate total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Potence</th>
            <td><input class="prop_val" name="attr_potence_radio" value="0" title="Potence total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_potence_radio" value="1" title="Potence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_potence_radio" value="2" title="Potence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_potence_radio" value="3" title="Potence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_potence_radio" value="4" title="Potence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_potence_radio" value="5" title="Potence total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Presence</th>
            <td><input class="prop_val" name="attr_presence_radio" value="0" title="Presence total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_presence_radio" value="1" title="Presence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_presence_radio" value="2" title="Presence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_presence_radio" value="3" title="Presence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_presence_radio" value="4" title="Presence total" type="radio" /></td>
            <td><input class="prop_val" name="attr_presence_radio" value="5" title="Presence total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Protean</th>
            <td><input class="prop_val" name="attr_protean_radio" value="0" title="Protean total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_protean_radio" value="1" title="Protean total" type="radio" /></td>
            <td><input class="prop_val" name="attr_protean_radio" value="2" title="Protean total" type="radio" /></td>
            <td><input class="prop_val" name="attr_protean_radio" value="3" title="Protean total" type="radio" /></td>
            <td><input class="prop_val" name="attr_protean_radio" value="4" title="Protean total" type="radio" /></td>
            <td><input class="prop_val" name="attr_protean_radio" value="5" title="Protean total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Blood Sorcery</th>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="0" title="Blood Sorcery total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="1" title="Blood Sorcery total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="2" title="Blood Sorcery total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="3" title="Blood Sorcery total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="4" title="Blood Sorcery total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_sorcery_radio" value="5" title="Blood Sorcery total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Oblivion</th>
            <td><input class="prop_val" name="attr_oblivion_radio" value="0" title="Oblivion total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_oblivion_radio" value="1" title="Oblivion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_oblivion_radio" value="2" title="Oblivion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_oblivion_radio" value="3" title="Oblivion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_oblivion_radio" value="4" title="Oblivion total" type="radio" /></td>
            <td><input class="prop_val" name="attr_oblivion_radio" value="5" title="Oblivion total" type="radio" /></td>
          </tr>
          
          <tr>
            <th>Thin-Blood-Alchemy</th>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="0" title="Thin-Blood-Alchemy total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="1" title="Thin-Blood-Alchemy total" type="radio" /></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="2" title="Thin-Blood-Alchemy total" type="radio" /></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="3" title="Thin-Blood-Alchemy total" type="radio" /></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="4" title="Thin-Blood-Alchemy total" type="radio" /></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_radio" value="5" title="Thin-Blood-Alchemy total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="disciplines detail table">
            <thead>
              <tr>
                <th></th>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Animalism</th>

            <td><input class="prop_val" name="attr_animalism_base" value="0" title="Animalism base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_animalism_xp" value="0" title="Animalism xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_animalism" value="0" type="hidden" />
              <input class="prop_result" name="attr_animalism_disp" value="@{animalism}" type="number" title="Animalism total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Auspex</th>

            <td><input class="prop_val" name="attr_auspex_base" value="0" title="Auspex base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_auspex_xp" value="0" title="Auspex xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_auspex" value="0" type="hidden" />
              <input class="prop_result" name="attr_auspex_disp" value="@{auspex}" type="number" title="Auspex total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Celerity</th>

            <td><input class="prop_val" name="attr_celerity_base" value="0" title="Celerity base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_celerity_xp" value="0" title="Celerity xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_celerity" value="0" type="hidden" />
              <input class="prop_result" name="attr_celerity_disp" value="@{celerity}" type="number" title="Celerity total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Dominate</th>

            <td><input class="prop_val" name="attr_dominate_base" value="0" title="Dominate base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_dominate_xp" value="0" title="Dominate xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_dominate" value="0" type="hidden" />
              <input class="prop_result" name="attr_dominate_disp" value="@{dominate}" type="number" title="Dominate total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Fortitude</th>

            <td><input class="prop_val" name="attr_fortitude_base" value="0" title="Fortitude base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_fortitude_xp" value="0" title="Fortitude xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_fortitude" value="0" type="hidden" />
              <input class="prop_result" name="attr_fortitude_disp" value="@{fortitude}" type="number" title="Fortitude total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Obfuscate</th>

            <td><input class="prop_val" name="attr_obfuscate_base" value="0" title="Obfuscate base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_obfuscate_xp" value="0" title="Obfuscate xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_obfuscate" value="0" type="hidden" />
              <input class="prop_result" name="attr_obfuscate_disp" value="@{obfuscate}" type="number" title="Obfuscate total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Potence</th>

            <td><input class="prop_val" name="attr_potence_base" value="0" title="Potence base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_potence_xp" value="0" title="Potence xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_potence" value="0" type="hidden" />
              <input class="prop_result" name="attr_potence_disp" value="@{potence}" type="number" title="Potence total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Presence</th>

            <td><input class="prop_val" name="attr_presence_base" value="0" title="Presence base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_presence_xp" value="0" title="Presence xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_presence" value="0" type="hidden" />
              <input class="prop_result" name="attr_presence_disp" value="@{presence}" type="number" title="Presence total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Protean</th>

            <td><input class="prop_val" name="attr_protean_base" value="0" title="Protean base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_protean_xp" value="0" title="Protean xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_protean" value="0" type="hidden" />
              <input class="prop_result" name="attr_protean_disp" value="@{protean}" type="number" title="Protean total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Blood Sorcery</th>

            <td><input class="prop_val" name="attr_blood_sorcery_base" value="0" title="Blood Sorcery base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_blood_sorcery_xp" value="0" title="Blood Sorcery xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_blood_sorcery" value="0" type="hidden" />
              <input class="prop_result" name="attr_blood_sorcery_disp" value="@{blood_sorcery}" type="number" title="Blood Sorcery total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Oblivion</th>

            <td><input class="prop_val" name="attr_oblivion_base" value="0" title="Oblivion base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_oblivion_xp" value="0" title="Oblivion xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_oblivion" value="0" type="hidden" />
              <input class="prop_result" name="attr_oblivion_disp" value="@{oblivion}" type="number" title="Oblivion total" disabled="true" />
            </td>
          </tr>
          <tr>
            
            <th>Thin-Blood-Alchemy</th>

            <td><input class="prop_val" name="attr_thin-blood-alchemy_base" value="0" title="Thin-Blood-Alchemy base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_thin-blood-alchemy_xp" value="0" title="Thin-Blood-Alchemy xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_thin-blood-alchemy" value="0" type="hidden" />
              <input class="prop_result" name="attr_thin-blood-alchemy_disp" value="@{thin-blood-alchemy}" type="number" title="Thin-Blood-Alchemy total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
          
            <input name="attr_disciplines_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_disciplines_base_disp" title="Disciplines base"
            value="@{disciplines_base}" type="number" disabled="true"/></td>
          
            <input name="attr_disciplines_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_disciplines_xp_disp" title="Disciplines xp"
            value="@{disciplines_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Advantages And Flaws</h3>
      <br />
      <div>
        <fieldset class="repeating_skills">            
          <table>
            <td><input type="text" name="attr_name"/></td>
            <td><input class="prop_val" name="attr_val" value="0" title="value" min="-10" max="10" type="number"/></td>
          </table>
        </fieldset>
      </div>
    </div>
          

    <div class="sheet-divcol">
      <h3 style="display: inline-block;">Other</h3>
      <input title="details" name="attr_other_switch" style="width: 1em;float: right;" type="checkbox" class="sheet-block-switch">
      <br />
      <div class="sheet-block-a">
        <table summary="Other basic table">
          <thead>
            <tr>
              <td></td>
              
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
          </thead>
          
          <tr>
            <th>Blood Potency</th>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="0" title="Blood Potency total" type="radio" checked/></td>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="1" title="Blood Potency total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="2" title="Blood Potency total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="3" title="Blood Potency total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="4" title="Blood Potency total" type="radio" /></td>
            <td><input class="prop_val" name="attr_blood_potency_radio" value="5" title="Blood Potency total" type="radio" /></td>
          </tr>
        </table>
      </div>
      <div class="sheet-block-b">
        <table summary="other detail table">
            <thead>
              <tr>
                <th></th>
                <td>Base</td>
                <td>Xp</td>
                <td>Total</td>
              </tr>
            </thead>
          <tr>
            
            <th>Blood Potency</th>

            <td><input class="prop_val" name="attr_blood_potency_base" value="0" title="Blood Potency base" min="0" max="5" type="number" /></td>
            <td><input class="prop_val" name="attr_blood_potency_xp" value="0" title="Blood Potency xp" min="0" max="5" type="number" /></td>
            <td>
              <input class="prop_result" name="attr_blood_potency" value="0" type="hidden" />
              <input class="prop_result" name="attr_blood_potency_disp" value="@{blood_potency}" type="number" title="Blood Potency total" disabled="true" />
            </td>
          </tr>
          <tr>
            <th style="font-style: italic; border-top: 0.1em solid #4d4d4d;">Cost</th>
            
          
            <input name="attr_other_base" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_other_base_disp" title="Other base"
            value="@{other_base}" type="number" disabled="true"/></td>
          
            <input name="attr_other_xp" value="0" type="hidden" />
            <td style="border-top: 0.1em solid #4d4d4d;"><input name="attr_other_xp_disp" title="Other xp"
            value="@{other_xp}" type="number" disabled="true"/></td>
          
            <td></td>
          </tr>
        </table>
      </div>
    </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>
  

  <!-- Notes -->
  <div class="sheet-divrow">
    <h2 style="display: inline-block;">Notes</h2>
    <input title="hide" name="attr_basics_switch" style="width: max;display: inline-block;" type="checkbox" class="sheet-block-switch"/>
    <br />
    <div class="sheet-block-a">
      <div class="sheet-divcol">
        <h3>Description</h3>
        <div class="sheet-block-a">
          <textarea name="attr_description" rows="30" cols="38"></textarea>
        </div>
        <div class="sheet-block-b">
        </div>
      </div>
      <div class="sheet-divcol">
        <h3>Possessions</h3>
        <div class="sheet-block-a">
          <textarea name="attr_possessions" rows="30" cols="38"></textarea>
        </div>
        <div class="sheet-block-b">
        </div>
      </div>
      <div class="sheet-divcol">
        <h3>Journal</h3>
        <div class="sheet-block-a">
          <textarea name="attr_history" rows="30" cols="38"></textarea>
        </div>
        <div class="sheet-block-b">
        </div>
      </div>
    </div>
    <div class="sheet-block-b">
    </div>
  </div>
</div>

<script type="text/worker">
const data = JSON.parse('{"title":"Vampire the Masquerade","subtitle":"5th Edition","header":{"col1":{"fields":{"name":{},"chronicle":{},"sire":{}}},"col2":{"fields":{"concept":{},"ambition":{},"desire":{}}},"col3":{"fields":{"predator":{},"clan":{},"generation":{}}}},"sections":{"mult_xp_cost":0,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar","fields":{"attributes":{"specialty":true,"mult_xp_cost":5,"val_start":1,"initial_base":1,"fields":{"physical":{"fields":{"strength":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"dexterity":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"stamina":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"social":{"fields":{"charisma":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"manipulation":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"composure":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"mental":{"fields":{"intelligence":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"wits":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"},"resolve":{"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":5,"new_xp_cost":0,"val_start":1,"val_min":0,"val_max":5,"initial_base":1,"nameable":false,"specialty":true,"field_type":"bar"}},"new_xp_cost":0,"val_min":0,"val_max":5,"nameable":false,"field_type":"bar"},"abilities":{"mult_xp_cost":3,"specialty":true,"fields":{"talents":{"fields":{"athletics":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"brawl":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"craft":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"drive":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"firearms":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"melee":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"larceny":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"stealth":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"survival":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"skills":{"singluar":"skill","fields":{"animal_ken":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"etiquette":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"insight":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"intimidation":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"leadership":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"performance":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"persuasion":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"streetwise":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"subterfuge":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"knowledges":{"fields":{"academics":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"awareness":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"finance":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"investigation":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"medicine":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"occult":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"politics":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"science":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"},"technology":{"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"}},"mult_xp_cost":3,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":true,"field_type":"bar"}},"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"field_type":"bar"},"details":{"fields":{"disciplines":{"mult_xp_cost":7,"mult_xp_cost_caitiff":6,"mult_xp_cost_clan":5,"initial_base":0,"val_start":0,"fields":{"animalism":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"auspex":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"celerity":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"dominate":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"fortitude":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"obfuscate":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"potence":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"presence":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"protean":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"blood_sorcery":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"oblivion":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"},"thin-blood-alchemy":{"mult_xp_cost":7,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"}},"new_xp_cost":0,"val_min":0,"val_max":5,"nameable":false,"specialty":false,"field_type":"bar"},"advantages and flaws":{"field_type":"name_val","fields":{},"mult_xp_cost":0,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false},"other":{"mult_xp_cost":10,"initial_base":0,"val_start":0,"fields":{"blood_potency":{"mult_xp_cost":10,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"}},"new_xp_cost":0,"val_min":0,"val_max":5,"nameable":false,"specialty":false,"field_type":"bar"}},"mult_xp_cost":0,"new_xp_cost":0,"val_start":0,"val_min":0,"val_max":5,"initial_base":0,"nameable":false,"specialty":false,"field_type":"bar"}}},"clan":{"brujah":{"disciplines":["celerity","potence","presence"]},"gangrel":{"disciplines":["animalism","fortitude","protean"]},"malkavian":{"disciplines":["auspex","dominate","obfuscate"]},"nosferatu":{"disciplines":["animalism","obfuscate","potence"]},"ravnos":{"disciplines":["animalism","chimerstry","fortitude"]},"toreador":{"disciplines":["auspex","celerity","presence"]},"tremere":{"disciplines":["auspex","dominate","blood_sorcery"]},"ventrue":{"disciplines":["dominate","fortitude","presence"]},"lasombra":{"disciplines":["dominate","potence","oblivion"]},"thin-blood":{"disciplines":["thin-blood-alchemy"]},"caitiff":{"disciplines":[]},"human":{"disciplines":[]},"animal":{"disciplines":[]},"werewolf":{"disciplines":["celerity","potence","protean"]},"mage":{"disciplines":["auspex","dominate","fortitude","presence","blood_sorcery"]},"faerie":{"disciplines":["animalism","auspex","celerity","obfuscate","protean"]},"ghost":{"disciplines":["auspex","dominate","presence"]},"demon":{"disciplines":["dominate","potence","fortitude"]}},"generation_table":{"hdr":["trait_max","blood_pool_max","blood_per_turn"],"3":[10,100,20],"4":[9,50,10],"5":[8,40,8],"6":[7,30,6],"7":[6,20,4],"8":[5,15,3],"9":[5,14,2],"10":[5,13,1],"11":[5,12,1],"12":[5,11,1],"13":[5,10,1]},"hunger":{"5":{"state":"Torpor","penalty":0}},"health":{"0":{"state":"Impaired","penalty":-2}},"will":{"0":{"state":"Impaired","penalty":-2}},"postfixes":["base","xp"]}');
"use strict";
console.log(data);

// change arg lists
function list_changed(l) {
  var out = l.map(x => "change:" + x).join(" ");
  return out;
}

function xpCost(k, b, xp) {
  var cost = 0;
  var i = b
  while (i < b + xp) {
    i += 1
    cost += k*i
  }
  return cost;
}

function attach_field_sum(name, fields, postfix) {
  var deps = Object.keys(fields).map(x => x + "_" + postfix);
  on(list_changed(deps), function(eventInfo) {
    console.log(name, postfix, "deps changed");
    getAttrs(deps, function(v) {
      var d = {};
      var cost = 0;
      for (field in fields) {
        var val = parseInt(v[field + "_" + postfix], 10);
        if (isNaN(val)) {
          console.log(field + "_" + postfix, " is NaN");
        } else {
          cost += val;
        }
      }
      d[name + "_" + postfix] = cost;
      setAttrs(d);
      console.log(d);
    });
  });
}

function attach_property(name) {
  //console.log("attaching property " + name);
  var tot_deps = [
    name + "_base",
    name + "_xp"
  ];
  var radio_deps = [
    name + "_radio",
    name
  ];

  // update total if deps change
  on(list_changed(tot_deps) + " sheet:opened", function() {
    console.log(name + " total deps changed");
    getAttrs(tot_deps, function(v) {
      set_d = {};
      var b = parseInt(v[name + "_base"], 10);
      var xp = parseInt(v[name + "_xp"], 10);
      var tot = b + xp;
      console.log("updating total for " + name + ", b:", b, " xp:", xp)
      set_d[name] = tot;
      setAttrs(set_d);
    });
  });

  // update xp, base if radio changes
  on("change:" + name + "_radio", function() {
    console.log(name + " radio changed");
    getAttrs([].concat(radio_deps, tot_deps), function(v) {
      set_d = {};
      var b = parseInt(v[name + "_base"], 10);
      var xp = parseInt(v[name + "_xp"], 10);
      var radio = parseInt(v[name + "_radio"], 10);
      console.log("updating total for " + name + " b:", b, " radio:", radio);
      if (radio < b) {
        b = radio;
        xp = 0;
      } else {
        xp = radio - b;
      }
      set_d[name + "_base"] = b;
      set_d[name + "_xp"] = xp;
      setAttrs(set_d);
    });
  });

  // update radio if total changes
  on("change:" + name, function() {
    console.log(name + " total changed");
    getAttrs([].concat(radio_deps, tot_deps), function(v) {
      set_d = {};
      var tot = parseInt(v[name], 10);
      console.log("updating radio for " + name + " tot:", tot);
      set_d[name + "_radio"] = tot;
      setAttrs(set_d);
    });
  });
}

function attach_type_bar(key_type, type, data) {
  console.log("attaching type", key_type);

  // handle no field case
  if (type.fields === undefined) {
    type.fields = {};
  }

  // properties
  for (var key_prop in type.fields) {
    attach_property(key_prop);
  }

  // base
  var base_deps = Object.keys(type.fields).map(x => x + '_base');
  on(list_changed(base_deps), function() {
    console.log("base_" + key_type + " deps changed");
    getAttrs(base_deps, function(v) {
      var d = {};
      var base = 0;
      for (i in base_deps) {
        base += parseInt(v[base_deps[i]], 10);
      }
      base -= Object.keys(type.fields).length*type.initial_base;
      d[key_type + "_base"] = base;
      setAttrs(d);
      console.log(d);
    });
  });

  // xp
  var xp_deps = [].concat(...Object.keys(type.fields).map(x => [x + "_xp", x + "_base", "clan"]));
  on(list_changed(xp_deps), function() {
    console.log(key_type + " xp deps changed");
    getAttrs(xp_deps, function(v) {
      var d = {};
      var cost = 0;
      for (name in type.fields) {
        var b = parseInt(v[name + "_base"], 10);
        var xp = parseInt(v[name + "_xp"], 10);
        var mult_xp_cost = type.mult_xp_cost;
        if (key_type === "disciplines") {
          var clan = v["clan"];
          if (clan === "caitiff") {
            mult_xp_cost = type.mult_xp_cost_caitiff;
            console.log("caitiff discipline");
          } else if (data.clan[clan].disciplines.indexOf(name) > -1) {
            mult_xp_cost = type.mult_xp_cost_clan;
            console.log(name, "is a ", clan, "disciplines");
          } else {
            console.log(name, "is not a", clan, "disciplines");
          }
        }
        cost += xpCost(mult_xp_cost, b, xp);
      }
      d[key_type + "_xp"] = cost;
      setAttrs(d);
      console.log(d);
    });
  });
}

function attach_section(name, section, data) {
  console.log("attaching section", name);

  // handle no field case
  if (section.fields === undefined) {
    section.fields = {};
  }

  for (var key_type in section.fields) {
    var type = section.fields[key_type];
    if (type.field_type === "bar") {
      attach_type_bar(key_type, type, data);
    }
  }

  // update field sums
  attach_field_sum(name, section.fields, "xp");
}

function attach_health(data) {
  var health_deps = ["health_max", "dmg_superficial", "dmg_aggravated"];
  on(list_changed(health_deps), function(eventInfo) {
    console.log("damage changed");
    getAttrs(health_deps, function(v) {
      var dmg = {
        sup: parseInt(v["dmg_superficial"], 10),
        aggr: parseInt(v["dmg_aggravated"], 10)
      };
      var health_max = parseInt(v["health_max"], 10);
      for (key in dmg) {
        if (dmg[key] < 0) {
          dmg[key] = 0;
        }
      }

      var count = 0;
      while (dmg["sup"] + dmg["aggr"] > health_max) {
        if (dmg["sup"] > 1) {
          console.log("carrying superficial damage to aggravated");
          dmg["sup"] -= 2;
          dmg["aggr"] += 1;
        } else if (dmg["aggr"] > 0) {
          console.log("max damage reached");
          dmg["sup"] = 0;
          dmg["aggr"] = health_max;
        }
        // safeguard for infinite loop
        if (count++ > 100) {
          console.error("exceeded maximum loop count in health update");
          break;
        }
      }
      var health = health_max - (dmg["sup"] + dmg["aggr"]);
      var health_total_max = 2*health_max;
      var health_total = health_total_max - (dmg["sup"] + 2*dmg["aggr"]);
      var penalty = 0;
      var health_state = "OK";
      if (data["health"][health] != undefined) {
        penalty = data["health"][health]["penalty"];
        health_state = data["health"][health]["state"];
      }
      setAttrs({
        dmg_superficial: dmg["sup"],
        dmg_aggravated: dmg["aggr"],
        health: health,
        health_total: health_total,
        health_total_max: health_total_max,
        wound_penalty: penalty,
        health_state: health_state
      });
    });
  });
}

function attach_will(data) {
  var will_deps = ["will_max", "will_superficial", "will_aggravated"];
  on(list_changed(will_deps), function(eventInfo) {
    console.log("will changed");
    getAttrs(will_deps, function(v) {
      var dmg = {
        sup: parseInt(v["will_superficial"], 10),
        aggr: parseInt(v["will_aggravated"], 10)
      };
      var will_max = parseInt(v["will_max"], 10);
      for (key in dmg) {
        if (dmg[key] < 0) {
          dmg[key] = 0;
        }
      }

      var count = 0;
      while (dmg["sup"] + dmg["aggr"] > will_max) {
        if (dmg["sup"] > 1) {
          console.log("carrying superficial damage to aggravated");
          dmg["sup"] -= 2;
          dmg["aggr"] += 1;
        } else if (dmg["aggr"] > 0) {
          console.log("max damage reached");
          dmg["sup"] = 0;
          dmg["aggr"] = will_max;
        }
        // safeguard for infinite loop
        if (count++ > 100) {
          console.error("exceeded maximum loop count in will update");
          break;
        }
      }
      var will = will_max - (dmg["sup"] + dmg["aggr"]);
      var penalty = 0;
      var will_state = "OK";
      if (data["will"][will] != undefined) {
        penalty = data["will"][will]["penalty"];
        will_state = data["will"][will]["state"];
      }
      var will_total_max = 2*will_max;
      var will_total = will_total_max - (dmg["sup"] + 2*dmg["aggr"]);
      setAttrs({
        will_superficial: dmg["sup"],
        will_aggravated: dmg["aggr"],
        will: will,
        will_total: will_total,
        will_total_max: will_total_max,
        will_penalty: penalty,
        will_state: will_state
      });
    });
  });
}



function attach_data(data) {
  console.log("attaching data");

  if (data.sections.fields === undefined) {
    data.sections.fields = {};
  }

  for (var key_sect in data.sections.fields) {
    var sect = data.sections.fields[key_sect];
    attach_section(key_sect, sect, data);
  }

  // attach field sums
  attach_field_sum("total", data.sections.fields, "xp");

  // attach health
  attach_health(data);

  // attach will
  attach_will(data);
}

attach_data(data);

on("sheet:opened", function() {
  console.log("sheet opened");
});


// vim: set et fenc=utf-8 ff=unix ft=javascript sts=0 sw=2 ts=2 :

</script>


<rolltemplate class="sheet-rolltemplate-wod">
  <table>
    <tbody>
      <tr>
        <th>{{name}}</th>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:2px solid rgb(112, 0, 0); " noshade>
      </td>

      {{#Rollname}}
      <tr>
        <td class="attr " style="font-size: 1.1em; ">{{Rollname}}</td>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      {{/Rollname}} {{#Roll}}
      <tr>
        <td class="attr ">Roll</td>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="padding-bottom: 8px; ">{{Roll}}</td>
      </tr>
      {{/Roll}} {{#DisciplineDetails}}
      <tr>
        <td class="attr " style="padding-bottom: 8px; ">{{DisciplineDetails}}</td>
      </tr>
      {{/DisciplineDetails}}{{#Normal}}
      <tr>
        <td class="attr ">Normal</td>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="padding-bottom: 8px; ">{{Normal}}</td>
      </tr>
      {{/Normal}} {{#NormalSuccesses}}
      <tr>
        <td class="attr ">Normal Successes</td>
      </tr>
      {{#NormalDice}}
      <tr>
        <td class="attr ">(Dice rolled: {{NormalDice}})</td>
      </tr>
      {{/NormalDice}}
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="padding-bottom: 8px;font-size: 24px; ">{{NormalSuccesses}}</td>
      </tr>
      {{/NormalSuccesses}}{{#Hunger}}
      <tr>
        <td class="attr ">Hunger</td>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="padding-bottom: 8px; ">{{Hunger}}</td>
      </tr>
      {{/Hunger}} {{#HungerSuccesses}}
      <tr>
        <td class="attr ">Hunger Successes</td>
      </tr>
      {{#HungerDice}}
      <tr>
        <td class="attr ">(Dice rolled: {{HungerDice}})</td>
      </tr>
      {{/HungerDice}}
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="font-size: 24px; ">{{HungerSuccesses}}</td>
      </tr>
      {{/HungerSuccesses}}{{#Successes}}
      <tr>
        <td class="attr ">Successes</td>
      </tr>
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:1px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr " style="font-size: 24px; ">{{Successes}}</td>
      </tr>
      {{/Successes}}
      <td style="height: 2px; text-align: center; width: 200px " valign="middle ">
        <hr style="border-top:2px solid rgb(112, 0, 0); " noshade>
      </td>
      <tr>
        <td class="attr ">{{#Miss}}{{Miss}}{{/Miss}}</td>
      </tr>
      <tr>
        <td class="attr ">{{#Crit}}{{Crit}}{{/Crit}}</td>
      </tr>
      <tr>
        <td class="attr ">{{#Messy}}{{Messy}}{{/Messy}}</td>
      </tr>
      <tr>
        <td class="attr ">{{#Beast}}{{Beast}}{{/Beast}}</td>
      </tr>
      <tr>
        <td class="attr " style="font-style: italic; ">{{#BeastTaunt}}{{BeastTaunt}}{{/BeastTaunt}}</td>
      </tr>
      <tr>
        <td class="attr ">{{#Fate}}{{Fate}}{{/Fate}}</td>
      </tr>
      <tr>
        <th style="padding: 15px 2px 0px 20px; "></th>
      </tr>
    </tbody>
  </table>
  {{Reroll}}
</rolltemplate>


</body>

<!-- vim: set et ft=html fenc=utf-8 ff=dos sts=0 sw=4 ts=4 : -->